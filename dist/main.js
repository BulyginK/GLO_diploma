(()=>{"use strict";function e({timing:e,draw:t,duration:o}){let l=performance.now();requestAnimationFrame((function n(r){let c=(r-l)/o;c>1&&(c=1);let s=e(c);t(s),c<1&&requestAnimationFrame(n)}))}const t=({formName:e,someElem:t=[]})=>{const o=document.querySelector('[name="'+e+'"]'),l=o.querySelector("button"),n=o.querySelectorAll('[name="fio"]'),r=o.querySelectorAll('[name="phone"]'),c=l.textContent,s="Ошибка отправки!",a=/^[а-яА-ЯЁёA-Za-z]+$/,d=/^\+[\d]{0,16}$/,i=(e,t,o)=>{for(let l=0;l<e.length;l++){const n=document.createElement("span");e[l].parentElement.append(n),n.classList.add("help-block"),e[l].addEventListener("input",(e=>{n.innerHTML="",e.target.classList.remove("error"),t.test(e.target.value)||(e.target.classList.add("error"),n.innerHTML=o)}))}};try{if(!o)throw new Error("Верните форму на место, пожааалуйста))");o.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=o.querySelectorAll("input"),n=new FormData(o),r={};var c;l.textContent="Отправка...",n.forEach(((e,t)=>{r[t]=e})),t.forEach((e=>{const t=document.getElementById(e.id);console.log(t),document.getElementById(e.id)&&(r[e.id]=t.value)})),(()=>{const e=o.querySelector('[name="fio"]'),t=o.querySelector('[name="phone"]');return!(!a.test(e.value)||!d.test(t.value))})()?(c=r,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{l.textContent="Скидка Ваша!",e.forEach((e=>{e.value=""}))})).catch((e=>{l.textContent=s})):(l.textContent=s,e.forEach((e=>{e.value=""})))})(),setTimeout((()=>l.textContent=c),2500)}))}catch(e){console.log(e.message)}i(n,a,"Вводите пожалуйста буквы"),i(r,d,'Вводите в формате "+79276802419"')};(()=>{const t=document.querySelector("body"),o=document.querySelector(".header-modal"),l=document.querySelector(".overlay");t.addEventListener("click",(t=>{t.target.closest("#btn-callback")?(t.preventDefault(),o.style.display="block",l.style.display="block",e({duration:300,timing:e=>e,draw(e){o.style.top=85*e-35+"%"}})):(t.target.closest(".header-modal__close")||t.target.closest(".overlay"))&&(o.style.display="none",l.style.display="none")}))})(),(()=>{const e=document.querySelector(".benefits-wrap"),t=document.querySelector(".benefits-arrows");let o=document.querySelectorAll(".benefits__item"),l=[];const n=()=>{l=[];for(let e=0;e<o.length;e++)o[e].style.display="none",l.push(o[e])},r=()=>{if(window.screen.width>=576)for(let e=0;e<o.length;e++)e<3&&(l[e].style.display="block");else for(let t=0;t<o.length;t++)0==t&&(e.style.justifyContent="center",l[t].style.display="block")};t.addEventListener("click",(e=>{e.preventDefault(),e.target.matches("#benefits__arrow--left")?((()=>{let e=o[l.length-1];e.remove(),o[0].before(e),o=document.querySelectorAll(".benefits__item"),n()})(),r()):e.target.matches("#benefits__arrow--right")&&((()=>{let e=l[0];e.remove(),o[l.length-1].after(e),o=document.querySelectorAll(".benefits__item"),n()})(),r())})),n(),r()})(),(()=>{const e=document.querySelector("#services");let t=document.querySelectorAll(".service-block"),o=[];const l=()=>{o=[];for(let e=0;e<t.length;e++)t[e].parentElement.style.display="none",o.push(t[e].parentElement)},n=()=>{if(window.screen.width>=576)for(let e=0;e<t.length;e++)e<2&&(o[e].style.display="block");else for(let e=0;e<t.length;e++)0==e&&(o[e].style.display="block")};e.addEventListener("click",(e=>{e.preventDefault(),e.target.matches("#services__arrow--left")?((()=>{let e=t[o.length-1].parentElement;e.remove(),t[0].parentElement.before(e),t=document.querySelectorAll(".service-block"),l()})(),n()):e.target.matches("#services__arrow--right")&&((()=>{let e=t[0].parentElement;e.remove(),t[o.length-1].parentElement.after(e),t=document.querySelectorAll(".service-block"),l()})(),n())})),l(),n()})(),(()=>{const t=document.querySelector("body"),o=document.querySelector(".services-modal"),l=document.querySelector(".overlay");t.addEventListener("click",(t=>{t.target.closest(".service-button")?(t.preventDefault(),o.style.display="block",l.style.display="block",e({duration:300,timing:e=>e,draw(e){o.style.top=85*e-35+"%"}})):(t.target.closest(".services-modal__close")||t.target.closest(".overlay"))&&(o.style.display="none",l.style.display="none")}))})(),(e=>{const t=document.querySelectorAll(".count_1>span"),o=document.querySelectorAll(".count_2>span"),l=document.querySelectorAll(".count_3>span"),n=document.querySelectorAll(".count_4>span");let r;const c=(e,t)=>{for(let o in e)e.hasOwnProperty(o)&&(e[o].textContent=t<10?"0"+t:t)};r=setInterval((()=>{let s=(()=>{let t=(new Date(e).getTime()-(new Date).getTime())/1e3,o=Math.floor(t/60/60/24),l=Math.floor(t/60/60%24),n=Math.floor(t/60%60),r=Math.floor(t%60);return t<=0&&(o="0",l="0",n="0",r="0"),{timeRemaining:t,days:o,hours:l,minutes:n,seconds:r}})();c(t,s.days),c(o,s.hours),c(l,s.minutes),c(n,s.seconds),s.timeRemaining<=0&&clearInterval(r)}),500)})("22 may 2022"),document.querySelectorAll("form").forEach((e=>{const o=e.name;t({formName:o,someElem:[{id:"calc-total"}]})})),(()=>{const e=document.querySelector("body"),t=document.querySelectorAll(".sertificate-document"),o=document.querySelector(".overlay"),l=document.createElement("div"),n=o.cloneNode(!0);t.forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault();let o=t.target.closest(".sertificate-document").getAttribute("href");const r=document.createElement("img");r.setAttribute("src",o),e.append(l),l.append(r),l.append(n),r.style.display="block",r.style.position="fixed",r.style.top="50%",r.style.left="50%",r.style.zIndex="9999",r.style.transform="translate(-50%, -50%)",r.style.maxHeight="95%",n.style.display="block",l.addEventListener("click",(()=>{l.innerHTML="",l.remove()}))}))}))})(),(()=>{const e=document.querySelector(".smooth-scroll");e.addEventListener("click",(e=>{e.preventDefault(),document.querySelector("#header").scrollIntoView({behavior:"smooth",block:"start"})})),new IntersectionObserver((function(t){t.forEach((function(t){1==t.intersectionRatio?e.classList.remove("smooth-scroll-active"):e.classList.add("smooth-scroll-active")}))}),{threshold:1}).observe(document.querySelector("#header"))})(),(()=>{if(document.querySelector("#calc")){const e=document.querySelector("#calc"),t=document.querySelector("#calc-type"),o=document.querySelector("#calc-type-material"),l=document.querySelector("#calc-input"),n=document.querySelector("#calc-total"),r=()=>{n.disabled=!1;let e=1;o.options[o.selectedIndex].value>0&&(e=o.options[o.selectedIndex].value),n.value=Math.round(t.options[t.selectedIndex].value*l.value*e)};e.addEventListener("input",(()=>{l.value=l.value.replace(/\D/,""),0!=t.selectedIndex&&l.value>0?r():0!=t.selectedIndex&&0!=l.value&&0!=o.selectedIndex||(n.value="")}))}})()})();