(()=>{"use strict";function e({timing:e,draw:t,duration:l}){let o=performance.now();requestAnimationFrame((function n(r){let s=(r-o)/l;s>1&&(s=1);let c=e(s);t(c),s<1&&requestAnimationFrame(n)}))}const t=e=>{const t=document.querySelector('[name="'+e+'"]'),l=t.querySelector("button"),o=l.textContent;try{if(!t)throw new Error("Верните форму на место, пожааалуйста))");t.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=t.querySelectorAll("input"),o=new FormData(t),n={};var r;l.textContent="Отправка...",o.forEach(((e,t)=>{n[t]=e})),(()=>{const e=t.querySelector('[name="fio"]'),l=t.querySelector('[name="phone"]');return!(!/^[а-яА-ЯЁёA-Za-z]+$/.test(e.value)||!/^\+[\d]{0,16}$/.test(l.value))})()?(console.log(n),(r=n,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{l.textContent="Скидка Ваша!",e.forEach((e=>{e.value=""}))})).catch((e=>{alert("Данные не отправлены")}))):(l.textContent="Ошибка отправки!",e.forEach((e=>{e.value=""})))})(),setTimeout((()=>l.textContent=o),2500)}))}catch(e){console.log(e.message)}};(()=>{const t=document.querySelector("body"),l=document.querySelector(".header-modal"),o=document.querySelector(".overlay");t.addEventListener("click",(t=>{t.target.closest("#btn-callback")?(t.preventDefault(),l.style.display="block",o.style.display="block",e({duration:300,timing:e=>e,draw(e){l.style.top=85*e-35+"%"}})):(t.target.closest(".header-modal__close")||t.target.closest(".overlay"))&&(l.style.display="none",o.style.display="none")}))})(),(()=>{const e=document.querySelector(".benefits-wrap"),t=document.querySelector(".benefits-arrows");let l=document.querySelectorAll(".benefits__item"),o=[];const n=()=>{o=[];for(let e=0;e<l.length;e++)l[e].style.display="none",o.push(l[e])},r=()=>{if(window.screen.width>=576)for(let e=0;e<l.length;e++)e<3&&(o[e].style.display="block");else for(let t=0;t<l.length;t++)0==t&&(e.style.justifyContent="center",o[t].style.display="block")};t.addEventListener("click",(e=>{e.preventDefault(),e.target.matches("#benefits__arrow--left")?((()=>{let e=l[o.length-1];e.remove(),l[0].before(e),l=document.querySelectorAll(".benefits__item"),n()})(),r()):e.target.matches("#benefits__arrow--right")&&((()=>{let e=o[0];e.remove(),l[o.length-1].after(e),l=document.querySelectorAll(".benefits__item"),n()})(),r())})),n(),r()})(),(()=>{const e=document.querySelector("#services");let t=document.querySelectorAll(".service-block"),l=[];const o=()=>{l=[];for(let e=0;e<t.length;e++)t[e].parentElement.style.display="none",l.push(t[e].parentElement)},n=()=>{if(window.screen.width>=576)for(let e=0;e<t.length;e++)e<2&&(l[e].style.display="block");else for(let e=0;e<t.length;e++)0==e&&(l[e].style.display="block")};e.addEventListener("click",(e=>{e.preventDefault(),e.target.matches("#services__arrow--left")?((()=>{let e=t[l.length-1].parentElement;e.remove(),t[0].parentElement.before(e),t=document.querySelectorAll(".service-block"),o()})(),n()):e.target.matches("#services__arrow--right")&&((()=>{let e=t[0].parentElement;e.remove(),t[l.length-1].parentElement.after(e),t=document.querySelectorAll(".service-block"),o()})(),n())})),o(),n()})(),(()=>{const t=document.querySelector("body"),l=document.querySelector(".services-modal"),o=document.querySelector(".overlay");t.addEventListener("click",(t=>{t.target.closest(".service-button")?(t.preventDefault(),l.style.display="block",o.style.display="block",e({duration:300,timing:e=>e,draw(e){l.style.top=85*e-35+"%"}})):(t.target.closest(".services-modal__close")||t.target.closest(".overlay"))&&(l.style.display="none",o.style.display="none")}))})(),(e=>{const t=document.querySelectorAll(".count_1>span"),l=document.querySelectorAll(".count_2>span"),o=document.querySelectorAll(".count_3>span"),n=document.querySelectorAll(".count_4>span");let r;const s=(e,t)=>{for(let l in e)e.hasOwnProperty(l)&&(e[l].textContent=t<10?"0"+t:t)};r=setInterval((()=>{let c=(()=>{let t=(new Date(e).getTime()-(new Date).getTime())/1e3,l=Math.floor(t/60/60/24),o=Math.floor(t/60/60%24),n=Math.floor(t/60%60),r=Math.floor(t%60);return t<=0&&(l="0",o="0",n="0",r="0"),{timeRemaining:t,days:l,hours:o,minutes:n,seconds:r}})();s(t,c.days),s(l,c.hours),s(o,c.minutes),s(n,c.seconds),c.timeRemaining<=0&&clearInterval(r)}),500)})("19 may 2022"),document.querySelectorAll(".order-form>form").forEach((e=>{const l=e.name;t(l)})),(()=>{const e=document.querySelectorAll(".sertificate-document"),t=document.createElement("img");t.style.display="block",t.style.position="fixed",t.style.top="50%",t.style.left="50%",t.style.zIndex="9999",t.style.transform="translate(-50%, -50%)",t.style.maxHeight="95%",e.forEach((e=>{e.addEventListener("click",(l=>{l.preventDefault();const o=document.querySelector(".overlay");let n=l.target.closest(".sertificate-document").getAttribute("href"),r=o.cloneNode(!0);t.setAttribute("src",n),e.append(t),e.append(r),r.style.display="block",t.addEventListener("click",(()=>{t.style.display="none",console.log(r)}))}))}))})()})();